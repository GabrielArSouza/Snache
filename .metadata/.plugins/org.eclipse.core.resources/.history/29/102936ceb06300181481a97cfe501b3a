package controller;

// TODO: Auto-generated Javadoc
/**
 * Manages the snake direction change given by the user.
 * This singleton ensures that if the user type many commands before they are sent to the server,
 * only the first one is considered. The class follows the producer-consumer logic.
 */
public class SingletonSnakeDirection
{	
	/** Direction given by the user. */
	private EnumSnakeDirection direction;
	
	/** The unique instance of the class. */
	private static SingletonSnakeDirection instance = new SingletonSnakeDirection();
	
    /**
     * Instantiates a new singleton object.
     */
    private SingletonSnakeDirection()
	{
		this.direction = EnumSnakeDirection.SAME;
	}
    
    /**
     * Gets the single instance of SingletonSnakeDirection.
     *
     * @return single instance of SingletonSnakeDirection
     */
    public static SingletonSnakeDirection getInstance()
    {
    	return instance;
    }
	
	/**
	 * Gets the direction change given by the user.
	 *
	 * @return direction change
	 */
	public EnumSnakeDirection consume()
	{
		EnumSnakeDirection res = direction;
		
		if(direction != EnumSnakeDirection.SAME)
			direction = EnumSnakeDirection.SAME;
		
		return res;
	}
	
	/**
	 * Produce.
	 *
	 * @param newDirection the new direction
	 */
	public void produce(EnumSnakeDirection newDirection)
	{
		if(direction == null)
			direction = newDirection;
	}
}
