package controller;

/**
 * Wraps a EnumSnakeDirection object to be shared between a snake and an user.
 * This wrapper follows the producer-consumer paradigm. When the shared
 * direction is used, it becomes null
 */
public class SharedSnakeDirection
{
	/** The direction to be shared. */
	private EnumSnakeDirection direction;

	/**
	 * Instantiates a new wrapper.
	 *
	 * @param direction
	 *            the object to be shared
	 */
	public SharedSnakeDirection(EnumSnakeDirection direction)
	{
		this.direction = direction;
	}

	/**
	 * Consumes the current direction.
	 * The direction is set to null when this method is called.
	 *
	 * @return the current snake direction
	 */
	public EnumSnakeDirection consume()
	{
		EnumSnakeDirection dir = direction;

		if(direction != null)
			direction = null;

		return dir;
	}

	public void produce(String direction)
	{
		produce(EnumSnakeDirection.getValue(direction));
	}

	/**
	 * Produce.
	 *
	 * @param direction
	 *            the direction
	 */
	public void produce(EnumSnakeDirection direction)
	{
		if(this.direction != null)
			this.direction = direction;

		else
		{
			// ignore;
		}
	}

	public boolean hasResource()
	{
		return direction != null;
	}
}
